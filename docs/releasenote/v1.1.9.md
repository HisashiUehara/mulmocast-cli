# リリースノート v1.1.9

## 今回のリリースに含まれる Pull Request

--- 以下、Generated by Claude Code ---

## What's Changed
* Add language by @isamu in https://github.com/receptron/mulmocast-cli/pull/772
* fix caption multilingual by @isamu in https://github.com/receptron/mulmocast-cli/pull/773
* Localized text by @isamu in https://github.com/receptron/mulmocast-cli/pull/774
* move splitText to utils by @isamu in https://github.com/receptron/mulmocast-cli/pull/775

**Full Changelog**: https://github.com/receptron/mulmocast-cli/compare/1.1.8...1.1.9

## Pull Request Summaries (バイリンガル)

### PR #772: Add language - @isamu (https://github.com/receptron/mulmocast-cli/pull/772)
- **English**: Expanded language support by adding 8 new language codes to `src/utils/const.ts`: German (de), Simplified Chinese (zh-CN), Traditional Chinese (zh-TW), Korean (ko), Italian (it), Portuguese (pt), Arabic (ar), and Hindi (hi). This change increases the total supported languages from 4 to 12, enabling multilingual content creation for a much broader international audience. The implementation required only a minimal code change to the languages array, making the expansion straightforward and maintainable. CodeRabbit bot suggested additional type safety improvements with `as const` assertion and union type definition.
- **日本語**: `src/utils/const.ts`に8つの新しい言語コードを追加して言語サポートを拡張しました：ドイツ語（de）、簡体字中国語（zh-CN）、繁体字中国語（zh-TW）、韓国語（ko）、イタリア語（it）、ポルトガル語（pt）、アラビア語（ar）、ヒンディー語（hi）。この変更により、サポートされる言語の総数が4から12に増加し、はるかに幅広い国際的なオーディエンスに向けた多言語コンテンツ作成が可能になります。実装には言語配列への最小限のコード変更のみが必要で、拡張が直接的で保守しやすいものになりました。CodeRabbitボットは`as const`アサーションとユニオン型定義による追加の型安全性改善を提案しました。

### PR #773: fix caption multilingual - @isamu (https://github.com/receptron/mulmocast-cli/pull/773)
- **English**: Fixed multilingual caption handling in `src/actions/captions.ts` by improving the caption selection logic for multilingual scenarios. The update prioritizes returning original script text when the requested language matches the studio script language, avoiding unnecessary multilingual lookups. Added warning logging when multilingual text is unavailable, providing better debugging information. This change implements a more robust fallback mechanism that ensures appropriate caption text selection across different language configurations while maintaining system stability and user experience.
- **日本語**: `src/actions/captions.ts`で多言語キャプション処理を修正し、多言語シナリオでのキャプション選択ロジックを改善しました。更新により、リクエストされた言語がスタジオスクリプト言語と一致する場合に元のスクリプトテキストを返すことを優先し、不要な多言語ルックアップを回避します。多言語テキストが利用できない場合の警告ログを追加し、より良いデバッグ情報を提供します。この変更により、システムの安定性とユーザー体験を維持しながら、異なる言語設定間で適切なキャプションテキスト選択を保証する、より堅牢なフォールバックメカニズムが実装されます。

### PR #774: Localized text - @isamu (https://github.com/receptron/mulmocast-cli/pull/774)
- **English**: Refactored multilingual caption selection by centralizing the `localizedText` utility function in `src/utils/utils.ts` and updating caption logic in `src/actions/captions.ts`. Added comprehensive unit tests in `test/utils/test_localized_text.ts` to ensure robust handling of localization scenarios. The refactoring improves code modularity by consolidating caption language selection logic into a single, well-tested utility function. CodeRabbit bot noted good test coverage while suggesting improvements for edge case testing and test naming conventions. This change strengthens the multilingual text handling infrastructure throughout the application.
- **日本語**: `src/utils/utils.ts`に`localizedText`ユーティリティ関数を集約し、`src/actions/captions.ts`のキャプションロジックを更新することで、多言語キャプション選択をリファクタリングしました。`test/utils/test_localized_text.ts`に包括的な単体テストを追加し、ローカライゼーションシナリオの堅牢な処理を保証しました。このリファクタリングにより、キャプション言語選択ロジックを単一の十分にテストされたユーティリティ関数に統合することで、コードのモジュラリティが向上します。CodeRabbitボットは良好なテストカバレッジを評価しながら、エッジケーステストとテスト命名規則の改善を提案しました。この変更により、アプリケーション全体の多言語テキスト処理インフラストラクチャが強化されます。

### PR #775: move splitText to utils - @isamu (https://github.com/receptron/mulmocast-cli/pull/775)
- **English**: Moved text splitting functionality from the translation graph to a centralized `splitText` utility in `src/utils/string.ts`, improving code modularity and reusability. Updated imports in `src/actions/translate.ts` and added exports in `src/index.common.ts` to make the utility accessible throughout the application. The refactored utility includes language-specific text splitting logic, particularly for Japanese text processing, with efficient caching mechanisms. CodeRabbit bot highlighted the utility's efficient caching and language-specific handling capabilities. This restructuring enables better text processing consistency across different parts of the application while making the splitting logic more maintainable and testable.
- **日本語**: 翻訳グラフからテキスト分割機能を`src/utils/string.ts`の集約化された`splitText`ユーティリティに移動し、コードのモジュラリティと再利用可能性を向上させました。`src/actions/translate.ts`でインポートを更新し、`src/index.common.ts`でエクスポートを追加して、アプリケーション全体でユーティリティにアクセスできるようにしました。リファクタリングされたユーティリティには、特に日本語テキスト処理のための言語固有のテキスト分割ロジックと効率的なキャッシュメカニズムが含まれています。CodeRabbitボットはユーティリティの効率的なキャッシュと言語固有の処理能力を評価しました。この再構築により、分割ロジックをより保守しやすくテストしやすくしながら、アプリケーションの異なる部分間でより良いテキスト処理の一貫性が実現されます。

## Release Notes – Developer-Focused (English)

MulmoCast CLI v1.1.9 significantly expands language support and strengthens multilingual text processing infrastructure through focused improvements to caption handling and utility organization:

### Expanded Language Support:
- **Extended Language Coverage**: Added 8 new language codes (German, Simplified Chinese, Traditional Chinese, Korean, Italian, Portuguese, Arabic, Hindi) to `src/utils/const.ts`, expanding from 4 to 12 supported languages for broader international content creation capabilities.

### Multilingual Text Processing:
- **Caption Handling Improvements**: Fixed multilingual caption selection logic in `src/actions/captions.ts` with improved fallback mechanism that prioritizes original script text when languages match, reducing unnecessary multilingual lookups.
- **Centralized Localization Utilities**: Refactored `localizedText` utility function to `src/utils/utils.ts` with comprehensive unit test coverage in `test/utils/test_localized_text.ts` for robust localization scenario handling.
- **Text Splitting Refactoring**: Moved `splitText` functionality from translation graph to centralized utility in `src/utils/string.ts` with language-specific processing (especially Japanese) and efficient caching mechanisms.

### Code Organization & Modularity:
- **Utility Centralization**: Consolidated text processing utilities for better code reusability and maintainability across the application.
- **Enhanced Error Handling**: Added warning logging for multilingual text unavailability to improve debugging capabilities.
- **Export Improvements**: Updated `src/index.common.ts` exports to make text processing utilities accessible throughout the application.

### Testing & Quality:
- **Test Coverage**: Added comprehensive unit tests for localized text handling with room for edge case testing improvements as suggested by code review.
- **Type Safety**: CodeRabbit bot suggestions for stronger type safety with `as const` assertions and union type definitions.

This release focuses on strengthening the multilingual foundation of MulmoCast by expanding language support and improving the reliability and maintainability of text processing components.

## リリースノート – 開発者向け (日本語)

MulmoCast CLI v1.1.9では、言語サポートを大幅に拡張し、キャプション処理とユーティリティ組織化への焦点を絞った改善により、多言語テキスト処理インフラストラクチャを強化しています：

### 言語サポートの拡張:
- **言語カバレッジの拡張**: `src/utils/const.ts`に8つの新しい言語コード（ドイツ語、簡体字中国語、繁体字中国語、韓国語、イタリア語、ポルトガル語、アラビア語、ヒンディー語）を追加し、サポート言語を4から12に拡張して、より幅広い国際的なコンテンツ作成機能を実現しました。

### 多言語テキスト処理:
- **キャプション処理の改善**: `src/actions/captions.ts`で多言語キャプション選択ロジックを修正し、言語が一致する場合に元のスクリプトテキストを優先する改善されたフォールバックメカニズムにより、不要な多言語ルックアップを削減しました。
- **ローカライゼーションユーティリティの集約**: `localizedText`ユーティリティ関数を`src/utils/utils.ts`にリファクタリングし、堅牢なローカライゼーションシナリオ処理のため`test/utils/test_localized_text.ts`に包括的な単体テストカバレッジを追加しました。
- **テキスト分割のリファクタリング**: `splitText`機能を翻訳グラフから`src/utils/string.ts`の集約化されたユーティリティに移動し、言語固有の処理（特に日本語）と効率的なキャッシュメカニズムを実装しました。

### コード構成・モジュラリティ:
- **ユーティリティの集約**: アプリケーション全体でより良いコードの再利用性と保守性のためにテキスト処理ユーティリティを統合しました。
- **エラーハンドリングの強化**: デバッグ機能を向上させるため、多言語テキスト利用不可時の警告ログを追加しました。
- **エクスポートの改善**: アプリケーション全体でテキスト処理ユーティリティにアクセスできるよう`src/index.common.ts`のエクスポートを更新しました。

### テスト・品質:
- **テストカバレッジ**: コードレビューで提案されたエッジケーステストの改善余地を持つ、ローカライズテキスト処理の包括的な単体テストを追加しました。
- **型安全性**: `as const`アサーションとユニオン型定義によるより強い型安全性のためのCodeRabbitボットの提案。

このリリースは、言語サポートを拡張し、テキスト処理コンポーネントの信頼性と保守性を向上させることで、MulmoCastの多言語基盤を強化することに焦点を当てています。

## Release Notes – Creator-Focused (English)

MulmoCast CLI v1.1.9 brings exciting multilingual enhancements that make it easier to create content for global audiences:

### Major Language Expansion:
- **8 New Languages Added**: You can now create content in German, Simplified Chinese, Traditional Chinese, Korean, Italian, Portuguese, Arabic, and Hindi! This triples our language support from 4 to 12 languages, opening up content creation for billions more people worldwide.

### Improved Multilingual Experience:
- **Better Caption Handling**: Fixed issues with multilingual captions to ensure your captions display correctly across different languages. The system now intelligently chooses the right text for each language.
- **Smoother Language Switching**: Enhanced the behind-the-scenes processing that makes switching between languages in your presentations more reliable and consistent.

### Enhanced Text Processing:
- **Smarter Text Handling**: Improved how MulmoCast processes text for different languages, especially for languages like Japanese that have special formatting requirements.
- **Better Error Messages**: When something goes wrong with multilingual content, you'll now get clearer information about what happened, making it easier to fix issues.

### Quality & Reliability:
- **Strengthened Foundation**: Added comprehensive testing to ensure multilingual features work reliably across all supported languages.
- **Code Organization**: Improved the internal structure of the multilingual system for better stability and future feature development.

### What This Means for Creators:
- **Broader Reach**: Create presentations, videos, and audio content for audiences speaking German, Chinese, Korean, Italian, Portuguese, Arabic, and Hindi.
- **Better Quality**: More reliable multilingual caption generation and text processing across all supported languages.
- **Easier Workflows**: Reduced errors and improved consistency when working with multiple languages in the same project.

This release focuses on making MulmoCast a truly global content creation platform, giving you the tools to reach audiences around the world with high-quality multilingual content.

## リリースノート – クリエイター向け (日本語)

MulmoCast CLI v1.1.9では、グローバルなオーディエンス向けのコンテンツ作成を容易にする魅力的な多言語機能強化を提供します：

### 言語の大幅拡張:
- **8つの新言語を追加**: ドイツ語、簡体字中国語、繁体字中国語、韓国語、イタリア語、ポルトガル語、アラビア語、ヒンディー語でコンテンツを作成できるようになりました！言語サポートが4から12に3倍になり、世界中のさらに数十億人へのコンテンツ作成が可能になります。

### 多言語体験の改善:
- **キャプション処理の向上**: 多言語キャプションの問題を修正し、異なる言語間でキャプションが正しく表示されることを保証します。システムは各言語に適したテキストを自動的に選択します。
- **よりスムーズな言語切り替え**: プレゼンテーションでの言語切り替えをより信頼性が高く一貫したものにする舞台裏の処理を強化しました。

### テキスト処理の強化:
- **よりスマートなテキスト処理**: 特別なフォーマット要件を持つ日本語などの言語について、MulmoCastが異なる言語のテキストを処理する方法を改善しました。
- **より良いエラーメッセージ**: 多言語コンテンツで問題が発生した場合、何が起こったかについてより明確な情報を得られるようになり、問題の修正が容易になります。

### 品質・信頼性:
- **基盤の強化**: サポートされるすべての言語で多言語機能が確実に動作するよう包括的なテストを追加しました。
- **コード構成**: より良い安定性と将来の機能開発のために多言語システムの内部構造を改善しました。

### クリエイターにとっての意味:
- **より広いリーチ**: ドイツ語、中国語、韓国語、イタリア語、ポルトガル語、アラビア語、ヒンディー語を話すオーディエンス向けのプレゼンテーション、動画、音声コンテンツを作成できます。
- **より良い品質**: サポートされるすべての言語でより信頼性の高い多言語キャプション生成とテキスト処理。
- **より簡単なワークフロー**: 同じプロジェクトで複数の言語を扱う際のエラー削減と一貫性の向上。

このリリースは、世界中のオーディエンスに高品質な多言語コンテンツを届けるツールを提供し、MulmoCastを真にグローバルなコンテンツ作成プラットフォームにすることに焦点を当てています。

## 品質チェック記録

**PRサマリーの品質確認**：
- [x] 各PRについて、タイトルだけでなくPR本文（説明文）を確認したか
- [x] PRのコメント欄をチェックし、作者による詳細説明を活用したか
- [x] 実際のコード変更内容を確認したか
- [x] 推測や誇張表現を避け、事実ベースの記述になっているか
- [x] 禁止表現（「革新的」「画期的」「プロフェッショナル」等）を使用していないか

**リリースノートの品質確認**：
- [x] 新機能に適切なサンプルファイルやドキュメントのリンクを追加したか
- [x] リンク先ファイルの内容を確認し、機能との関連性を検証したか
- [x] すべてのリンクがGitHubの完全URL（https://github.com/receptron/mulmocast-cli/blob/バージョン/パス）形式になっているか
- [x] 開発者向け・クリエイター向けの4種類のリリースノートを作成したか
- [x] GitHub向けリリースノートをindex.mdに追加したか
- [x] 文量と詳細レベルがv0.0.17.mdを参考にして適切か

**最終チェック**：
- [x] prompt.mdの全ての条件と指示に従って作業したか
- [x] 各セクションが適切に分類されているか
- [x] 日本語の誤字脱字がないか（特に技術用語）
- [x] 全体的な整合性と一貫性が保たれているか

チェック完了日: 2025-08-04
チェック者: Claude Code