# リリースノート v1.1.11

## 今回のリリースに含まれる Pull Request

--- 以下、Generated by Claude Code ---

## What's Changed
* PER by @isamu in https://github.com/receptron/mulmocast-cli/pull/780
* Mock test by @isamu in https://github.com/receptron/mulmocast-cli/pull/779
* Bug fix: Handle no BGM by @snakajima in https://github.com/receptron/mulmocast-cli/pull/781
* Veo3 update by @snakajima in https://github.com/receptron/mulmocast-cli/pull/782
* Always call add BGM by @snakajima in https://github.com/receptron/mulmocast-cli/pull/784
* Cleanup import by @isamu in https://github.com/receptron/mulmocast-cli/pull/783

**Full Changelog**: https://github.com/receptron/mulmocast-cli/compare/1.1.10...1.1.11

## Pull Request Summaries (バイリンガル)

### PR #780: PER - @isamu (https://github.com/receptron/mulmocast-cli/pull/780)
- **English**: Added Japanese text replacement mapping for the acronym "PER" to its phonetic equivalent "ピーイーアール" in `src/utils/string.ts`. This follows the established pattern of converting English acronyms to their Japanese phonetic representation for improved text-to-speech pronunciation. The implementation adds a single mapping entry to the `replacementsJa` array, ensuring that "PER" is pronounced correctly in Japanese TTS output rather than being spelled out letter by letter.
- **日本語**: `src/utils/string.ts`に英語の略語「PER」を日本語の音声表記「ピーイーアール」に変換するテキスト置換マッピングを追加しました。これは、テキスト読み上げの発音を改善するために英語の略語を日本語の音声表記に変換する既存のパターンに従っています。実装では`replacementsJa`配列に単一のマッピングエントリを追加し、「PER」が日本語TTSで文字ごとに読み上げられるのではなく、正しく発音されることを保証します。

### PR #779: Mock test - @isamu (https://github.com/receptron/mulmocast-cli/pull/779)
- **English**: Introduced comprehensive mock media agent functionality for testing with placeholder content across audio, image, movie, and HTML media types. Expanded `media_mock_agent.ts` to handle multiple media types and added two new test scripts (`test_hello_caption.json` and `test_hello_image.json`) with CI workflow integration. The implementation includes mock provider configurations in `provider2agent.ts`, enhanced import structure for audio and image actions, and a new `mulmoCreditPath` utility function for test file management. This infrastructure enables more reliable testing without external API dependencies.
- **日本語**: 音声、画像、動画、HTMLメディアタイプにわたるプレースホルダーコンテンツを使用したテスト用の包括的なモックメディアエージェント機能を導入しました。`media_mock_agent.ts`を拡張して複数のメディアタイプを処理できるようにし、CIワークフロー統合付きの2つの新しいテストスクリプト（`test_hello_caption.json`と`test_hello_image.json`）を追加しました。実装には`provider2agent.ts`のモックプロバイダー設定、音声と画像アクション用の強化されたインポート構造、テストファイル管理用の新しい`mulmoCreditPath`ユーティリティ関数が含まれます。このインフラストラクチャにより、外部API依存なしでより信頼性の高いテストが可能になります。

### PR #781: Bug fix: Handle no BGM - @snakajima (https://github.com/receptron/mulmocast-cli/pull/781)
- **English**: Fixed movie generation failure when background music (BGM) is disabled by implementing proper handling for zero BGM volume scenarios. Added `handleNoBGM` agent in `audio.ts` that copies voice files directly when BGM volume is set to 0, bypassing the BGM mixing process. Created test case `test_hello_nobgm.json` demonstrating the fix with BGM volume set to 0. The implementation adds conditional execution logic based on BGM volume settings to ensure presentations without background music can be generated successfully.
- **日本語**: BGMボリュームがゼロのシナリオに対する適切な処理を実装することで、バックグラウンドミュージック（BGM）が無効化されている場合の動画生成の失敗を修正しました。`audio.ts`に`handleNoBGM`エージェントを追加し、BGMボリュームが0に設定されている場合に音声ファイルを直接コピーしてBGMミキシングプロセスをバイパスします。BGMボリュームを0に設定した修正を実証するテストケース`test_hello_nobgm.json`を作成しました。実装では、BGMボリューム設定に基づく条件付き実行ロジックを追加し、バックグラウンドミュージックなしのプレゼンテーションが正常に生成できることを保証します。

### PR #782: Veo3 update - @snakajima (https://github.com/receptron/mulmocast-cli/pull/782)
- **English**: Enhanced video generation capabilities by adding Google Veo3 support with start image functionality and introducing the new "minimax/hailuo-02-fast" model. Updated `provider2agent.ts` to include the fast model configuration with pricing ($0.05/second) and duration limits. Enhanced Google Veo3 configurations to support initial frame image input for better video continuity. Removed 10 lines of unnecessary title node logic from `audio.ts` to simplify the audio processing pipeline. Added comprehensive test cases in `test_replicate.json` demonstrating both new model capabilities.
- **日本語**: 開始画像機能を備えたGoogle Veo3サポートを追加し、新しい「minimax/hailuo-02-fast」モデルを導入することで、動画生成機能を強化しました。`provider2agent.ts`を更新して、価格設定（$0.05/秒）と期間制限を含むファストモデル設定を含めました。より良い動画の連続性のために初期フレーム画像入力をサポートするようGoogle Veo3設定を強化しました。`audio.ts`から不要なタイトルノードロジックの10行を削除し、音声処理パイプラインを簡素化しました。`test_replicate.json`に両方の新しいモデル機能を実証する包括的なテストケースを追加しました。

### PR #784: Always call add BGM - @snakajima (https://github.com/receptron/mulmocast-cli/pull/784)
- **English**: Refactored background music processing to always execute BGM addition regardless of volume level, simplifying the audio pipeline by removing conditional logic. Deleted the entire `handleNoBGM` conditional block and its associated volume-based check, removing the `unless: ":context.presentationStyle.audioParams.bgmVolume.equal(0)"` condition from `addBGM`. This change eliminates complexity in the audio processing graph while maintaining the same functionality through the BGM mixing agent's internal volume handling. Also removed the unnecessary `fs` import that was no longer needed after the refactoring.
- **日本語**: ボリュームレベルに関係なく常にBGM追加を実行するようバックグラウンドミュージック処理をリファクタリングし、条件ロジックを削除してオーディオパイプラインを簡素化しました。`handleNoBGM`条件ブロック全体とそれに関連するボリュームベースのチェックを削除し、`addBGM`から`unless: ":context.presentationStyle.audioParams.bgmVolume.equal(0)"`条件を削除しました。この変更により、BGMミキシングエージェントの内部ボリューム処理を通じて同じ機能を維持しながら、オーディオ処理グラフの複雑さを排除します。リファクタリング後に不要になった`fs`インポートも削除しました。

### PR #783: Cleanup import - @isamu (https://github.com/receptron/mulmocast-cli/pull/783)
- **English**: Refactored import statements in `audio.ts` for better code organization by consolidating multiple individual agent imports into a single import from `../agents/index.js`. This change replaced 15 separate import lines with one consolidated import statement, improving code maintainability. Additionally, added the missing `ttsGoogleAgent` export to `agents/index.ts` to ensure all TTS agents are properly exposed through the central export. The refactoring maintains identical functionality while reducing import clutter and following better module organization practices.
- **日本語**: 複数の個別エージェントインポートを`../agents/index.js`からの単一インポートに統合することで、`audio.ts`のインポート文をリファクタリングし、より良いコード構成を実現しました。この変更により、15の個別のインポート行を1つの統合されたインポート文に置き換え、コードの保守性を向上させました。さらに、すべてのTTSエージェントが中央エクスポートを通じて適切に公開されることを保証するため、`agents/index.ts`に欠落していた`ttsGoogleAgent`エクスポートを追加しました。このリファクタリングは、インポートの乱雑さを減らし、より良いモジュール構成の実践に従いながら、同一の機能を維持します。

## Release Notes – Developer-Focused (English)

MulmoCast CLI v1.1.11 improves audio processing robustness, expands video generation capabilities, and enhances testing infrastructure:

### Video Generation Enhancements:
- **Google Veo3 Start Image Support**: Added initial frame image functionality for Google Veo3, enabling better video continuity and control over opening scenes.
- **New Fast Video Model**: Introduced "minimax/hailuo-02-fast" model at $0.05/second for quicker video generation turnaround.
- **Test Coverage**: Added comprehensive test cases in `test_replicate.json` demonstrating new video model capabilities. ([sample](https://github.com/receptron/mulmocast-cli/blob/1.1.11/scripts/test/test_replicate.json))

### Audio Processing Improvements:
- **BGM-Free Presentations**: Fixed movie generation failure when background music is disabled (bgmVolume: 0). ([sample](https://github.com/receptron/mulmocast-cli/blob/1.1.11/scripts/test/test_hello_nobgm.json))
- **Simplified BGM Pipeline**: Refactored audio processing to always execute BGM addition, eliminating conditional logic complexity while maintaining functionality through internal volume handling.
- **Code Cleanup**: Removed 10 lines of unnecessary title node logic from audio processing pipeline.

### Testing & Infrastructure:
- **Mock Media Agents**: Introduced comprehensive mock agents for audio, image, movie, and HTML testing without external API dependencies. ([samples](https://github.com/receptron/mulmocast-cli/blob/1.1.11/scripts/test/test_hello_caption.json))
- **CI Integration**: Added new test scripts with automatic CI workflow execution for better quality assurance.
- **Test Utilities**: Added `mulmoCreditPath` utility function for improved test file management.

### Code Quality:
- **Import Organization**: Consolidated 15 individual import statements into a single import in `audio.ts` for better maintainability.
- **Japanese Text Processing**: Added "PER" to "ピーイーアール" phonetic mapping for improved Japanese TTS pronunciation.
- **Export Completeness**: Added missing `ttsGoogleAgent` export to ensure all TTS agents are properly exposed.

This release focuses on audio processing reliability, expanded video generation options, and stronger testing infrastructure.

## リリースノート – 開発者向け (日本語)

MulmoCast CLI v1.1.11では、音声処理の堅牢性を向上させ、動画生成機能を拡張し、テストインフラストラクチャを強化しています：

### 動画生成の強化:
- **Google Veo3開始画像サポート**: Google Veo3に初期フレーム画像機能を追加し、より良い動画の連続性と開始シーンのコントロールを実現しました。
- **新しい高速動画モデル**: より迅速な動画生成のため、$0.05/秒の「minimax/hailuo-02-fast」モデルを導入しました。
- **テストカバレッジ**: 新しい動画モデル機能を実証する包括的なテストケースを`test_replicate.json`に追加しました。（[サンプル](https://github.com/receptron/mulmocast-cli/blob/1.1.11/scripts/test/test_replicate.json)）

### 音声処理の改善:
- **BGMなしプレゼンテーション**: バックグラウンドミュージックが無効（bgmVolume: 0）の場合の動画生成失敗を修正しました。（[サンプル](https://github.com/receptron/mulmocast-cli/blob/1.1.11/scripts/test/test_hello_nobgm.json)）
- **簡素化されたBGMパイプライン**: 内部ボリューム処理を通じて機能を維持しながら、条件ロジックの複雑さを排除するため、常にBGM追加を実行するよう音声処理をリファクタリングしました。
- **コードクリーンアップ**: 音声処理パイプラインから不要なタイトルノードロジックの10行を削除しました。

### テスト・インフラストラクチャ:
- **モックメディアエージェント**: 外部API依存なしで音声、画像、動画、HTMLテスト用の包括的なモックエージェントを導入しました。（[サンプル](https://github.com/receptron/mulmocast-cli/blob/1.1.11/scripts/test/test_hello_caption.json)）
- **CI統合**: より良い品質保証のため、自動CIワークフロー実行付きの新しいテストスクリプトを追加しました。
- **テストユーティリティ**: 改善されたテストファイル管理のため`mulmoCreditPath`ユーティリティ関数を追加しました。

### コード品質:
- **インポート構成**: より良い保守性のため、`audio.ts`の15の個別インポート文を単一インポートに統合しました。
- **日本語テキスト処理**: 日本語TTS発音の改善のため「PER」から「ピーイーアール」への音声マッピングを追加しました。
- **エクスポートの完全性**: すべてのTTSエージェントが適切に公開されることを保証するため、欠落していた`ttsGoogleAgent`エクスポートを追加しました。

このリリースは、音声処理の信頼性、拡張された動画生成オプション、より強力なテストインフラストラクチャに焦点を当てています。

## Release Notes – Creator-Focused (English)

MulmoCast CLI v1.1.11 brings important fixes and new video generation options for better content creation:

### Video Generation Updates:
- **New Fast Video Model**: Added a quicker video generation option that processes faster while maintaining good quality, useful for rapid prototyping and iteration.
- **Better Video Continuity**: Google Veo3 now supports starting from a specific image, giving you more control over how your videos begin and transition between scenes.

### Audio & Background Music:
- **BGM-Free Content**: Fixed an issue where videos couldn't be generated when background music was turned off. You can now create presentations with narration only, no background music required.
- **Improved Audio Processing**: Simplified the internal audio handling to be more reliable and consistent across different configurations.

### Japanese Language Support:
- **Better Pronunciation**: Added proper pronunciation for the acronym "PER" in Japanese text-to-speech, ensuring it sounds natural rather than spelling out each letter.

### Testing & Reliability:
- **More Reliable Testing**: Added comprehensive test coverage to catch issues before they affect your work.
- **Better Quality Assurance**: New automated testing ensures features work correctly across different scenarios.

This release focuses on fixing audio issues and expanding video generation options while improving overall reliability.

## リリースノート – クリエイター向け (日本語)

MulmoCast CLI v1.1.11では、より良いコンテンツ作成のための重要な修正と新しい動画生成オプションを提供します：

### 動画生成の更新:
- **新しい高速動画モデル**: 良好な品質を維持しながらより速く処理する動画生成オプションを追加し、迅速なプロトタイピングと反復作業に役立ちます。
- **より良い動画の連続性**: Google Veo3が特定の画像から開始することをサポートし、動画の開始方法とシーン間の遷移をより細かく制御できるようになりました。

### 音声・バックグラウンドミュージック:
- **BGMなしコンテンツ**: バックグラウンドミュージックをオフにした場合に動画を生成できない問題を修正しました。ナレーションのみでプレゼンテーションを作成でき、バックグラウンドミュージックは不要です。
- **改善された音声処理**: 内部の音声処理を簡素化し、異なる設定間でより信頼性が高く一貫性のあるものにしました。

### 日本語サポート:
- **より良い発音**: 日本語テキスト読み上げで略語「PER」の適切な発音を追加し、各文字を綴るのではなく自然に聞こえるようにしました。

### テスト・信頼性:
- **より信頼性の高いテスト**: 作業に影響を与える前に問題をキャッチするための包括的なテストカバレッジを追加しました。
- **より良い品質保証**: 新しい自動テストにより、異なるシナリオで機能が正しく動作することを保証します。

このリリースは、音声の問題の修正と動画生成オプションの拡張に焦点を当て、全体的な信頼性を向上させています。

## 品質チェック記録

**PRサマリーの品質確認**：
- [x] 各PRについて、タイトルだけでなくPR本文（説明文）を確認したか
- [x] PRのコメント欄をチェックし、作者による詳細説明を活用したか
- [x] 実際のコード変更内容を確認したか
- [x] 推測や誇張表現を避け、事実ベースの記述になっているか
- [x] 禁止表現（「革新的」「画期的」「プロフェッショナル」等）を使用していないか

**リリースノートの品質確認**：
- [x] 新機能に適切なサンプルファイルやドキュメントのリンクを追加したか
- [x] リンク先ファイルの内容を確認し、機能との関連性を検証したか
- [x] すべてのリンクがGitHubの完全URL（https://github.com/receptron/mulmocast-cli/blob/バージョン/パス）形式になっているか
- [x] 開発者向け・クリエイター向けの4種類のリリースノートを作成したか
- [x] GitHub向けリリースノートをindex.mdに追加したか
- [x] 文量と詳細レベルがv0.0.17.mdを参考にして適切か

**最終チェック**：
- [x] prompt.mdの全ての条件と指示に従って作業したか
- [x] 各セクションが適切に分類されているか
- [x] 日本語の誤字脱字がないか（特に技術用語）
- [x] 全体的な整合性と一貫性が保たれているか

チェック完了日: 2025-08-06
チェック者: Claude Code